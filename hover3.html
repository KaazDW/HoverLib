<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .elementCible {
            position: relative;
            display: inline-block;
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            cursor: pointer;
        }

        .elementCible:hover::before {
            content: attr(data-text);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #333;
            color: #fff;
            padding: 5px;
            border-radius: 3px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .elementCible:hover::before {
            opacity: 1;
        }
    </style>
</head>
<body>
    <a class="label-up" data-text="Texte 1">Élément 1</a>
    <a class="label-down" data-text="Texte 2">Élément 2</a>
    <a class="label-right" data-text="Texte 3">Élément 3</a>
    <a class="label-left" data-text="Texte 3">Élément 4</a>
    <a class="label-down" data-text="Texte 3">Élément 5</a>
    <a class="label-down" data-text="Texte 3">Élément 6</a>
    <a class="label-right" data-text="Texte 3">Élément 7</a>

    <script>
        // labelify.js

        function createLabel(element, elementType){
            element.style.position = 'relative';
            element.style.display = 'inline-block';
            element.style.margin = '10px';
            element.style.padding = '10px';
            element.style.border = '1px solid #ccc';
            element.style.cursor = 'pointer';

            element.addEventListener('mouseover', () => {
                element.style.backgroundColor = '#eee'; 
            });

            element.addEventListener('mouseout', () => {
                element.style.backgroundColor = ''; 
            });

 
            element.addEventListener('mouseenter', () => {
                const elementHeight = element.offsetHeight;
                const elementWidth = element.offsetWidth;
                console.log(elementHeight, elementWidth)
                const text = element.getAttribute('data-text');
                const tooltip = document.createElement('div');
                tooltip.textContent = text;
                tooltip.style.position = 'absolute';
                tooltip.style.top = '50%';
                tooltip.style.left = '50%';
                tooltip.style.transform = 'translate(-50%, -50%)';
                tooltip.style.color = '#fff';
                tooltip.style.padding = '5px';
                tooltip.style.backgroundColor = "green";
                tooltip.style.borderRadius = '3px';
                tooltip.style.whiteSpace = 'nowrap';
                tooltip.style.opacity = '0';
                tooltip.style.transition = 'opacity 0.3s ease-in-out';

                switch (elementType) {
                    case "label-up":
                        tooltip.style.marginTop = -elementHeight + "px";
                        break;
                    case "label-down":
                        tooltip.style.marginTop = elementHeight + "px";
                        break;
                    case "label-right":
                        tooltip.style.marginRight = -elementWidth + "px";
                        break;
                    case "label-left":
                        tooltip.style.marginLeft = -elementWidth + "px";
                        break;
                    default:
                        break;  
                }

                element.appendChild(tooltip);

                setTimeout(() => {
                    tooltip.style.opacity = '1';
                }, 10);
           
            });

            element.addEventListener('mouseleave', () => {
                const tooltip = element.querySelector('div');
                if (tooltip) {
                    setTimeout(() => {
                        tooltip.remove();
                    }, 300);
                    tooltip.style.opacity = '0';
                }
            });
        }


        function initializeLabelify() {
            const elementSelectors = {
                "label-up": ".label-up",
                "label-down": ".label-down",
                "label-right": ".label-right",
                "label-left": ".label-left"
            };
            const missingElements = [];

            for (const elementType in elementSelectors) {
                const selector = elementSelectors[elementType];
                const elements = document.querySelectorAll(selector);

                if (elements.length === 0) {
                    missingElements.push(elementType);
                } else {
                    elements.forEach((element) => {
                        
                        createLabel(element, elementType)

                    });
                }
            }

            if (missingElements.length > 0) {
                console.warn(`Les éléments suivants sont manquants : ${missingElements.join(', ')}`);
            }
        }


        document.addEventListener("DOMContentLoaded", initializeLabelify);
    </script>
</body>
</html>
